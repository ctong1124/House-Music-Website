var data={
    "music":[
        {
            "artist": "Jamie Principle and Frankie Knuckles",
            "song": "Your Love",
            "year": 1984,
            "descrip": "&quotYour Love&quot was one of the first popular tracks in this new house genre. It was first played by Frankie Knuckles and quickly spread throughout the rest of the Chicago clubs. In 1984, it was only available to DJs as a copy of a tape, but was then released in 1986 as a 12” vinyl by Persona Records.",
            "page": "early1980s",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/LOLE1YE_oFQ\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Jesse Saunders",
            "song": "On and On",
            "year":1984,
            "descrip": "“On and On” is widely regarded as the first house record on vinyl. There were only 500 records printed when it was first released. ",
            "page": "early1980s",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/qUeMFG4wjJw\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Steve “Silk” Hurley ",
            "song": "Music is the Key",
            "year":1985,
            "descrip": "“Music is the Key” was the first house song to make the music charts when it hit #9 on the US Dance Charts in 1985",
            "page": "early1980s",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/QRsasda3aNY\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Mr. Fingers",
            "song": "Can You Feel It",
            "year":1986,
            "descrip": "Mr. Fingers is the work of Larry Heard and “Can You Feel It” was released on Trax Records, one of the few places in Chicago that pressed House records in the early days." ,
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/tFuujExs03A\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Rhythim is Rhythim ",
            "song": "Strings of Life",
            "year":1987,
            "descrip": "Rhythim is Rhythim was the moniker of Derrick Mays. “Strings of Life” was considered a classic in the house and techno genre. It became wildly popular a couple years after its original pressing and was released several more times.",
            "page": "detroit",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/qiCEGXGm-z0\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Inner City",
            "song": "Big Fun",
            "year":1988,
            "descrip": "Inner City was the work of Kevin Saunderson and Paris Grey. “Big Fun” did well on the US charts but blew up overseas in the UK. It was the first Detroit techno song to reach the UK and set off a huge house and techno interest overseas.",
            "page": "detroit",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/omfiVkkJ1OU\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Joe Smooth",
            "song": "Promised Land",
            "year":1987,
            "descrip": "The lyrics of “Promised Land” were based off a Martin Luther King Jr. speech. Released in 1987, it peaked at #56 in the UK Singles Chart but a cover of it by the Style Council reached the Top 40.",
            "page": "uk",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/ML3w4HIMHpY\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Ten City",
            "song": "That's The Way Love Is",
            "year":1989,
            "descrip": "Ten City was vocalist Byron Stingily, guitarist Herb Lawson, keyboardist Byron Burke and producer Marshall Jefferson. “That's the Way Love Is” is a house anthem still heard today and reached number eight in the UK when released.",
            "page": "uk",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/Y_edhEpE_YM\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "A Guy Called Gerald",
            "song": "Voodoo Ray",
            "year":1988,
            "descrip": "“Voodoo Ray” got its start at the Hacienda and was written by a Hacienda regular Gerald Simpson. The groove reached number 12 on the UK singles chart.",
            "page": "uk",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/ivr57dcs9-E\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "E-Zee Possee & MC Kinky",
            "song": "Everything Starts With An 'E'",
            "year":1989,
            "descrip": "“Everything Starts With an 'E'” was an acid house anthem in the UK and was banned from BBC Radio for its lyrics. The drug-fueled lyrics show the role and re-popularization of recreational acid and ecstasy use during the Summer of Love era in the UK.",
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/tv1_epNEK5s\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Adonis",
            "song": "No Way Back",
            "year":1988,
            "descrip": "Adonis Smith was a pioneer of the acid house genre and was born and raised on the west side of Chicago.",
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/cZj9oQ-5aaY\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Orbital",
            "song": "Chime",
            "year":1989,
            "descrip": "The track was originally released in December 1989 and was a big underground success. In 1990, it had a wider release on FFRR Records, and reached number 17 on the UK Singles Chart.",
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/SISBVIDLPrY\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "Marshall Jefferson",
            "song": "Move Your Body",
            "year":1988,
            "descrip": "Marshall Jefferson recorded solo and collaborative material under various names such as Virgo, Jungle Wonz, Truth and On The House. He was also part of Ten City and produced the wildly popular “That's the Way Love Is”.",
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/w2t0C50b9ik\" frameborder=\"0\" allowfullscreen><\/iframe>"
        },
        {
            "artist": "T-Coy",
            "song": "Carino",
            "year":1987,
            "descrip": "T-Coy was the work of Manchester's Mike Pickering, Ritchie Close and Simon Topping.",
            "page": "none",
            "embed": "<iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/97vO3qvuQqc\" frameborder=\"0\" allowfullscreen><\/iframe>"
        }
]}

//array shuffler
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex ;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

function listenHTML(current) {
    

        var op="";

        op+="<div class=\"section-fixed scene_element_medium scene_element--fadein\"><div class=\"col9\"><div class=\"videoWrapper\">";
        //CHANGE YOUTUBE VID SIZE
        var youtube = current.embed;
        var newyoutube = youtube.replace("420", "640");
        var newyoutube2 = newyoutube.replace("315", "480");

        op+= newyoutube2;
        op+= "</div></div><div class=\"col3 sans-serif-p\"><div><span class=\"headline-p\">Artist </span> ";
        op+= current.artist;
        op+= "</div><div><span class=\"headline-p\">Song </span> ";
        op+= current.song;
        op+= "</div><div><span class=\"headline-p\">Year </span>";
        op+= current.year;
        op+= "</div><br><div>";
        op+= current.descrip;
        op+= "</div></div></div> ";

        document.getElementById("vid-section").innerHTML=op;

    
}

$(document).ready(function() {

    //CREATING MUSIC CONTENT WITHIN TIMELINE PAGES
    if (document.getElementById("music") != null) {
        var div = document.getElementById("dom-target-page");
        var page = div.textContent;
        

        var output="";
            for (var i in data.music) {
                if(data.music[i].page == page) {
                    output+= "<div class=\"section pad-small\"><div class=\"section-fixed\"><div class=\"col8\"><div class=\"videoWrapper\">";
                    output+= data.music[i].embed;
                    output+= "</div></div><div class=\"col4\"><div class=\"sans-serif-p\"><span class=\"headline-p\">Artist <\/span>";
                    output+= data.music[i].artist;
                    output+= "<\/div> <div class=\"sans-serif-p\"><span class=\"headline-p\">Song <\/span>";
                    output+= data.music[i].song;
                    output+= "</div> <div class=\"sans-serif-p\"><span class=\"headline-p\">Year <\/span>";
                    output+= data.music[i].year;
                    output+= "<\/div><div class=\"sans-serif-p\">";
                    output+= data.music[i].descrip;
                    output+= "<\/div><\/div><\/div><\/div>";
                }
            }

        document.getElementById("music").innerHTML=output;

        
    }

    if (document.getElementById("listen") != null) {
        var arrayRandNums = [];
        for (i=0; i<data.music.length; i++) {
            arrayRandNums[i] = i;
        }

        shuffle(arrayRandNums);

        console.log(arrayRandNums);

        var arrayRandNumsIndex = 0;
        var currentNum = arrayRandNums[arrayRandNumsIndex];
        var current = data.music[currentNum];

        listenHTML(current);

        console.log("before arrow-right");

        
    }

    

    $('.arrow-right').on("click", function(){
      arrayRandNumsIndex++;
      if (arrayRandNumsIndex == arrayRandNums.length) {
        arrayRandNumsIndex = 0;
        } 
      currentNum = arrayRandNums[arrayRandNumsIndex];
      current = data.music[currentNum];

      listenHTML(current);

    });

    $('.arrow-left').on("click", function(){
      arrayRandNumsIndex--;
      if (arrayRandNumsIndex == -1) {
        arrayRandNumsIndex = arrayRandNums.length - 1;
      } 
      currentNum = arrayRandNums[arrayRandNumsIndex];
      current = data.music[currentNum];

      listenHTML(current);

    });


    

});

                    


// <div class="col8">
//                 <iframe width="420" height="315" src="//www.youtube.com/embed/LOLE1YE_oFQ" 
//                 frameborder="0" allowfullscreen></iframe>
//               </div>
//               <div class="col4">
//                 <div class="sans-serif-p">
//                   <span class="headline-p">Artist:</span>
//                    Jamie Principle and Frankie Knuckles
//                 </div>
//                 <div class="sans-serif-p">
//                   <span class="headline-p">Song:</span>
//                    Your Love
//                 </div>
//                 <div class="sans-serif-p">
//                   <span class="headline-p">Year:</span> 1984
//                 </div>
//                 <div class="sans-serif-p">
//                 “Your Love” was one of the first popular tracks in this new house genre. 
//                 It was first played by Frankie Knuckles and quickly spread throughout the 
//                 rest of the Chicago clubs. In 1984, it was only available to DJs as a copy 
//                 of a tape, but was then released in 1986 as a 12” vinyl by Persona Records. 
//                 </div>
//               </div>